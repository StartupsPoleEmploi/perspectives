@import conf.WebAppConfig
@import fr.poleemploi.perspectives.authentification.domain.CandidatAuthentifie
@import helper._
@import play.api.libs.json.JsObject

@(candidatAuthentifie: Option[CandidatAuthentifie],
        jsData: JsObject)(implicit flash: Flash, assetsFinder: AssetsFinder, webAppConfig: WebAppConfig)

@layout(candidatAuthentifie = candidatAuthentifie) {
    <div id="rechercheOffres" v-cloak>
        <div id="js-modaleDetailOffre" class="modal" tabindex="-1" role="dialog" aria-labelledby="titreModaleDetailOffre">
            <div class="modal-dialog modaleDetailOffre" role="document">
                <div class="modal-content modaleDetailOffre-contenu">
                    <div class="modaleDetailOffre-navigation">
                        <div class="modaleDetailOffre-wrapper">
                            <div class="navigationOffres">
                                <div class="navigationOffres-item navigationOffres-page"
                                     v-show="!doitAfficherOffrePrecedente()">
                                </div>
                                <div class="navigationOffres-item navigationOffres-item--noir navigationOffres-page gtm-candidat-detail-offre"
                                     v-show="doitAfficherOffrePrecedente()" v-on:click="afficherOffrePrecedente">
                                    <span class="navigationOffres-iconePrecedent gtm-candidat-detail-offre"></span>
                                    <span class="navigationOffres-action gtm-candidat-detail-offre">Précedent</span>
                                </div>
                                <div class="navigationOffres-item navigationOffres-item--noir navigationOffres-pageCourante">
                                    {{indexNavigationOffre + 1}} / {{nbOffresTotal}}
                                </div>
                                <div class="navigationOffres-item navigationOffres-page"
                                     v-show="!doitAfficherOffreSuivante()">
                                </div>
                                <div class="navigationOffres-item navigationOffres-item--vert navigationOffres-page gtm-candidat-detail-offre"
                                     v-show="doitAfficherOffreSuivante()" v-on:click="afficherOffreSuivante">
                                    <span class="navigationOffres-action gtm-candidat-detail-offre">Suivant</span>
                                    <span class="navigationOffres-iconeSuivant gtm-candidat-detail-offre"></span>
                                </div>
                                <div class="navigationOffres-item navigationOffres-item--noir navigationOffres-fermer" data-dismiss="modal">
                                    <span class="navigationOffres-action">Fermer</span>
                                    <span class="navigationOffres-iconeFermer">&times;</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modaleDetailOffre-wrapper">
                        <div class="detailOffre">
                            <h2 id="titreModaleDetailOffre" class="detailOffre-sousSection detailOffre-intitule">{{offreCourante.intitule}}</h2>
                            <div class="detailOffre-sousSection detailOffre-resume">
                                <ul class="listeInfosProfil resumeDetailOffre">
                                    <li class="resumeDetailOffre-item detailOffre-info detailOffre-info--petite">
                                        <svg class="resumeDetailOffre-icone" width="16px" height="15px" viewBox="0 0 16 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <title>1C61C206-676C-488C-AEE5-E0B88F09C67C</title>
                                            <defs></defs>
                                            <g id="1C61C206-676C-488C-AEE5-E0B88F09C67C" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.5">
                                                <g id="D_Perspective_Fiche-view" transform="translate(-142.000000, -184.000000)" fill="#843D6A">
                                                    <g id="work-2" transform="translate(142.000000, 184.000000)">
                                                        <path d="M14.4,3.15789474 L11.2,3.15789474 L11.2,1.57894737 L9.6,0 L6.4,0 L4.8,1.57894737 L4.8,3.15789474 L1.6,3.15789474 C0.72,3.15789474 0,3.86842105 0,4.73684211 L0,13.4210526 C0,14.2894737 0.72,15 1.6,15 L14.4,15 C15.28,15 16,14.2894737 16,13.4210526 L16,4.73684211 C16,3.86842105 15.28,3.15789474 14.4,3.15789474 L14.4,3.15789474 Z M9.6,3.15789474 L6.4,3.15789474 L6.4,1.57894737 L9.6,1.57894737 L9.6,3.15789474 L9.6,3.15789474 Z" id="Shape"></path>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span>{{offreCourante.contrat.label}}</span>
                                        <span class="detailOffre-natureContrat" v-show="offreCourante.contrat.nature">{{offreCourante.contrat.nature}}</span>
                                    </li>
                                    <li v-show="offreCourante.entreprise.nom" class="resumeDetailOffre-item detailOffre-info detailOffre-info--petite">
                                        <svg class="resumeDetailOffre-icone" width="15px" height="16px" viewBox="0 0 15 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <title>3647910A-22D1-4551-A15F-7BED9D51D20F</title>
                                            <defs></defs>
                                            <g id="3647910A-22D1-4551-A15F-7BED9D51D20F" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.5">
                                                <g id="D_Perspective_Fiche-view" transform="translate(-472.000000, -183.000000)" fill="#843D6A">
                                                    <path d="M482,190.578947 L482,185.526316 L479.5,183 L477,185.526316 L477,187.210526 L472,187.210526 L472,199 L487,199 L487,190.578947 L482,190.578947 L482,190.578947 Z M475.333333,197.315789 L473.666667,197.315789 L473.666667,195.631579 L475.333333,195.631579 L475.333333,197.315789 L475.333333,197.315789 Z M475.333333,193.947368 L473.666667,193.947368 L473.666667,192.263158 L475.333333,192.263158 L475.333333,193.947368 L475.333333,193.947368 Z M475.333333,190.578947 L473.666667,190.578947 L473.666667,188.894737 L475.333333,188.894737 L475.333333,190.578947 L475.333333,190.578947 Z M480.333333,197.315789 L478.666667,197.315789 L478.666667,195.631579 L480.333333,195.631579 L480.333333,197.315789 L480.333333,197.315789 Z M480.333333,193.947368 L478.666667,193.947368 L478.666667,192.263158 L480.333333,192.263158 L480.333333,193.947368 L480.333333,193.947368 Z M480.333333,190.578947 L478.666667,190.578947 L478.666667,188.894737 L480.333333,188.894737 L480.333333,190.578947 L480.333333,190.578947 Z M480.333333,187.210526 L478.666667,187.210526 L478.666667,185.526316 L480.333333,185.526316 L480.333333,187.210526 L480.333333,187.210526 Z M485.333333,197.315789 L483.666667,197.315789 L483.666667,195.631579 L485.333333,195.631579 L485.333333,197.315789 L485.333333,197.315789 Z M485.333333,193.947368 L483.666667,193.947368 L483.666667,192.263158 L485.333333,192.263158 L485.333333,193.947368 L485.333333,193.947368 Z" id="Shape-Copy-2"></path>
                                                </g>
                                            </g>
                                        </svg>
                                        {{offreCourante.entreprise.nom | capitalize}}
                                    </li>
                                    <li class="resumeDetailOffre-item detailOffre-info detailOffre-info--petite">
                                        <svg class="resumeDetailOffre-icone" width="12px" height="16px" viewBox="0 0 12 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <title>69B209B8-AC7F-44DD-A4C7-425EC4E8DE33</title>
                                            <defs></defs>
                                            <g id="69B209B8-AC7F-44DD-A4C7-425EC4E8DE33" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <g id="D_Perspective_Liste-nolog-" transform="translate(-401.000000, -260.000000)" fill="#334051" fill-rule="nonzero">
                                                    <g id="Offre" transform="translate(361.000000, 179.000000)">
                                                        <path d="M45.5424352,81 C48.6544733,81 51.0852296,83.4246675 51.0852296,86.538027 C51.0852296,89.1876415 49.2376315,92.6749658 45.5424352,97 C41.8474784,92.6697122 40,89.1823879 40,86.538027 C40,83.4611167 42.4303971,81 45.5424352,81 Z M45.5221239,87.9380531 C46.5387188,87.9380531 47.3628319,87.1139401 47.3628319,86.0973451 C47.3628319,85.0807502 46.5387188,84.2566372 45.5221239,84.2566372 C44.505529,84.2566372 43.6814159,85.0807502 43.6814159,86.0973451 C43.6814159,87.1139401 44.505529,87.9380531 45.5221239,87.9380531 Z" id="VP_localisation-Copy"></path>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        {{offreCourante.lieuTravail.libelle}} <span v-show="offreCourante.lieuTravail.codePostal">({{offreCourante.lieuTravail.codePostal}})</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="detailOffre-section">
                                <div class="postuler">
                                    <div class="postuler-texte">
                                        <p class="detailOffre-info detailOffre-info--gras detailOffre-info--sansMarge">Cette offre vous intéresse, postulez !</p>
                                        <p class="detailOffre-info detailOffre-info--sansMarge">Veuillez adresser votre CV et une lettre de motivation en précisant le numéro de l'offre : <span class="detailOffre-info--gras">n°{{offreCourante.id}}</span></p>
                                    </div>
                                    <div class="postuler-cta">
                                        <button type="button" class="bouton bouton--blancSurVert boutonPostuler gtm-candidat-detail-postuler" v-show="!display.contact && !doitAfficherLienOrigineOffre(offreCourante.contact)" v-on:click="display.contact = true">Je contacte le recruteur</button>
                                        <a target="_blank" class="bouton bouton--blancSurVert boutonPostuler gtm-candidat-detail-postuler"
                                            v-show="doitAfficherLienOrigineOffre(offreCourante.contact)" v-bind:href="offreCourante.urlOrigine">
                                            Voir l'offre sur Pôle Emploi
                                        </a>
                                        <div class="infosPostuler" v-show="display.contact && !doitAfficherLienOrigineOffre(offreCourante.contact)">
                                            <p class="infosPostuler-item detailOffre-info--gras" v-show="offreCourante.contact.nom">{{offreCourante.contact.nom}}</p>
                                            <p class="infosPostuler-item" v-show="doitAfficherCoordonnees1(offreCourante.contact)">{{offreCourante.contact.coordonnees1}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.coordonnees2">{{offreCourante.contact.coordonnees2}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.coordonnees3">{{offreCourante.contact.coordonnees3}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.telephone">Téléphone : {{offreCourante.contact.telephone}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.email">Courriel : {{offreCourante.contact.email}}</p>
                                            <p>
                                                <a class="infosPostuler-item" target="_blank" v-show="offreCourante.contact.urlPostuler" v-bind:href="offreCourante.contact.urlPostuler">
                                                    Postuler directement sur le site du recruteur
                                                </a>
                                            </p>
                                            <p v-show="doitAfficherLienOrigineOffre(offreCourante.contact)">
                                                <a class="infosPostuler-item" target="_blank" v-bind:href="offreCourante.urlOrigine">Voir l'offre sur Pole Emploi</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="detailOffre-section detailOffre-sectionDescription" v-show="offreCourante.description">
                                <h3 class="detailOffre-titreSection">Description</h3>
                                <p class="detailOffre-info detailOffre--description">{{offreCourante.description}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="detailOffre-informationsCles">
                        <div class="modaleDetailOffre-wrapper">
                            <div class="detailOffre">
                                <div class="detailOffre-section">
                                    <h3 class="detailOffre-titreSection">Informations clés</h3>
                                    <div class="infosClesDetailOffre">
                                        <div class="infosClesDetailOffre-colonne">
                                            <p class="detailOffre-info detailOffre-info--petite" v-if="offreCourante.libelleDureeTravail">
                                                <img class="infosClesDetailOffre-icone" src="@assetsFinder.path("images/pages/candidat/rechercheOffres/horaire.svg")" alt="Duree de travail" height="16" width="16" />
                                                {{offreCourante.libelleDureeTravail}}
                                            </p>
                                            <p class="detailOffre-info detailOffre-info--petite" v-if="offreCourante.complementExercice">
                                                <img class="infosClesDetailOffre-icone" src="@assetsFinder.path("images/pages/candidat/rechercheOffres/calendrier.svg")" alt="Complément exercice" height="16" width="16" />
                                                {{offreCourante.complementExercice}}
                                            </p>
                                            <p class="detailOffre-info detailOffre-info--petite" v-if="offreCourante.libelleDeplacement">
                                                <img class="infosClesDetailOffre-icone" src="@assetsFinder.path("images/pages/candidat/rechercheOffres/deplacement.svg")" alt="Deplacements" height="16" width="16" />
                                                {{offreCourante.libelleDeplacement}}
                                            </p>
                                        </div>
                                        <div class="infosClesDetailOffre-colonne">
                                            <p class="detailOffre-info detailOffre-info--petite detailOffre-info--sansMarge" v-if="offreCourante.salaire.libelle || offreCourante.salaire.commentaire">
                                                <img class="infosClesDetailOffre-icone" src="@assetsFinder.path("images/pages/candidat/rechercheOffres/salaire.svg")" alt="Salaire" height="16" width="16" />
                                                {{offreCourante.salaire.libelle || offreCourante.salaire.commentaire}}
                                            </p>
                                            <ul class="detailOffre-info detailOffre-info--petite" v-if="offreCourante.salaire.complement1 || offreCourante.salaire.complement2">
                                                <li v-if="offreCourante.salaire.complement1">{{offreCourante.salaire.complement1}}</li>
                                                <li v-if="offreCourante.salaire.complement2">{{offreCourante.salaire.complement2}}</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="detailOffre-profil">
                        <div class="modaleDetailOffre-wrapper">
                            <div class="detailOffre">
                                <div class="detailOffre-section">
                                    <h3 class="detailOffre-titreSection">Votre profil</h3>
                                    <div class="infoProfil detailOffre-info--petite">
                                        <span class="infoProfil-puce infoProfil-puce--souhaite"></span>
                                        Débutant accepté
                                    </div>

                                    <h4 class="detailOffre-sousTitreSection" v-show="offreCourante.permis.length > 0 || offreCourante.formations.length > 0 || offreCourante.langues.length > 0">Vous avez :</h4>
                                    <ul class="listeInfosProfil">
                                        <template v-for="permis in offreCourante.permis">
                                            <div class="detailOffre-info detailOffre-info--petite">
                                                <div class="infoProfil" v-bind:class="[permis.exige ? 'infoProfil--exige' : '']">
                                                    <span class="infoProfil-puce" v-bind:class="[permis.exige ? 'infoProfil-puce--exige' : 'infoProfil-puce--souhaite']"></span>
                                                    {{'Permis ' + permis.label}}
                                                </div>
                                            </div>
                                        </template>
                                        <template v-for="formation in offreCourante.formations">
                                            <div class="detailOffre-info detailOffre-info--petite">
                                                <div class="infoProfil" v-bind:class="[formation.exige ? 'infoProfil--exige' : '']">
                                                    <span class="infoProfil-puce" v-bind:class="[formation.exige ? 'infoProfil-puce--exige' : 'infoProfil-puce--souhaite']"></span>
                                                    {{formation.niveau + (formation.domaine ? ' en ' + formation.domaine : '')}}
                                                </div>
                                            </div>
                                        </template>
                                        <template v-for="langue in offreCourante.langues">
                                            <div class="detailOffre-info detailOffre-info--petite">
                                                <div class="infoProfil" v-bind:class="[langue.exige ? 'infoProfil--exige' : '']">
                                                    <span class="infoProfil-puce" v-bind:class="[langue.exige ? 'infoProfil-puce--exige' : 'infoProfil-puce--souhaite']"></span>
                                                    {{langue.label}}
                                                </div>
                                            </div>
                                        </template>
                                    </ul>

                                    <h4 class="detailOffre-sousTitreSection" v-show="offreCourante.competences && offreCourante.competences.length > 0">
                                        Vous savez :
                                    </h4>
                                    <ul class="listeInfosProfil" v-show="offreCourante.competences && offreCourante.competences.length > 0">
                                        <li class="detailOffre-info detailOffre-info--petite" v-for="competence in offreCourante.competences">
                                            <div class="infoProfil" v-bind:class="[competence.exige ? 'infoProfil--exige' : '']">
                                                <span class="infoProfil-puce" v-bind:class="[competence.exige ? 'infoProfil-puce--exige' : 'infoProfil-puce--souhaite']"></span>
                                                {{(competence.exige ? 'Exigé : ' : '') + competence.label}}
                                            </div>
                                        </li>
                                    </ul>

                                    <h4 class="detailOffre-sousTitreSection" v-show="offreCourante.qualitesProfessionnelles && offreCourante.qualitesProfessionnelles.length > 0">
                                        Vous êtes :
                                    </h4>
                                    <ul class="listeInfosProfil" v-show="offreCourante.qualitesProfessionnelles && offreCourante.qualitesProfessionnelles.length > 0">
                                        <li class="detailOffre-info detailOffre-info--petite" v-for="qualite in offreCourante.qualitesProfessionnelles">
                                            <div class="infoProfil">
                                                <span class="infoProfil-puce infoProfil-puce--souhaite"></span>
                                                {{qualite.label}}
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modaleDetailOffre-wrapper">
                        <div class="detailOffre">
                            <div class="detailOffre-section">
                                <h3 class="detailOffre-titreSection">L'entreprise</h3>
                                <p v-show="offreCourante.entreprise.urlLogo">
                                    <img v-bind:alt="'Logo ' + offreCourante.entreprise.nom" v-bind:src="offreCourante.entreprise.urlLogo" height="100"/>
                                </p>
                                <p class="detailOffre-info detailOffre-info--petite" v-show="offreCourante.entreprise.nom">{{offreCourante.entreprise.nom}}</p>
                                <p class="detailOffre-info detailOffre-info--petite" v-show="offreCourante.entreprise.secteurActivite">Secteur d'activité : {{offreCourante.entreprise.secteurActivite}}</p>
                                <p class="detailOffre-info detailOffre-info--petite" v-show="offreCourante.entreprise.description">{{offreCourante.entreprise.description}}</p>
                                <p class="detailOffre-info detailOffre-info--petite" v-show="offreCourante.entreprise.effectif">{{offreCourante.entreprise.effectif}}</p>
                                <a class="detailOffre-info detailOffre-info--petite" v-show="offreCourante.entreprise.urlSite" v-bind:href="offreCourante.entreprise.urlSite" target="_blank">{{offreCourante.entreprise.urlSite}}</a>
                            </div>
                            <div class="detailOffre-section">
                                <div class="postuler">
                                    <div class="postuler-texte">
                                        <p class="detailOffre-info detailOffre-info--gras detailOffre-info--sansMarge">Cette offre vous intéresse, postulez !</p>
                                        <p class="detailOffre-info detailOffre-info--sansMarge">Veuillez adresser votre CV et une lettre de motivation en précisant le numéro de l'offre : <span class="detailOffre-info--gras">n°{{offreCourante.id}}</span></p>
                                    </div>
                                    <div class="postuler-cta">
                                        <button type="button" class="bouton bouton--blancSurVert boutonPostuler gtm-candidat-detail-postuler" v-show="!display.contact && !doitAfficherLienOrigineOffre(offreCourante.contact)" v-on:click="display.contact = true">Je contacte le recruteur</button>
                                        <a target="_blank" class="bouton bouton--blancSurVert boutonPostuler gtm-candidat-detail-postuler"
                                            v-show="doitAfficherLienOrigineOffre(offreCourante.contact)" v-bind:href="offreCourante.urlOrigine">
                                            Voir l'offre sur Pôle Emploi
                                        </a>
                                        <div class="infosPostuler" v-show="display.contact && !doitAfficherLienOrigineOffre(offreCourante.contact)">
                                            <p class="infosPostuler-item detailOffre-info--gras" v-show="offreCourante.contact.nom">{{offreCourante.contact.nom}}</p>
                                            <p class="infosPostuler-item" v-show="doitAfficherCoordonnees1(offreCourante.contact)">{{offreCourante.contact.coordonnees1}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.coordonnees2">{{offreCourante.contact.coordonnees2}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.coordonnees3">{{offreCourante.contact.coordonnees3}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.telephone">Téléphone : {{offreCourante.contact.telephone}}</p>
                                            <p class="infosPostuler-item" v-show="offreCourante.contact.email">Courriel : {{offreCourante.contact.email}}</p>
                                            <p>
                                                <a class="infosPostuler-item" target="_blank" v-show="offreCourante.contact.urlPostuler" v-bind:href="offreCourante.contact.urlPostuler">
                                                    Postuler directement sur le site du recruteur
                                                </a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="rechercheOffresConteneur">
            <div class="rechercheOffres">
                <section class="rechercheOffres-nbResultats" v-if="nbOffresTotal > 0">
                    <p class="offres-titre">{{nbOffresTotal}} offres sans expérience exigée peuvent vous intéresser</p>
                </section>
                <section class="rechercheOffres-formulaire">
                    <span class="formulaireRecherche-jsResponsive"></span>
                    <p class="formulaireRecherche-retourListeResultats" v-on:click="cacherFiltres">Retour à la liste</p>
                    <form id="js-rechercheOffresForm" class="formulaireRecherche gtm-candidat-offres-form" v-on:submit.prevent="rechercherOffres">
                        <div class="formulaireRecherche-conteneur formulaireRecherche-conteneurAffichageFiltres"
                             v-on:click="afficherFiltres">
                            <div class="rechercheOffres-localisation">
                                <div class="rechercheOffres-conteneurlieuTravail">
                                    <input type="hidden" name="codePostal" v-model="recherche.codePostal" />
                                    <label for="js-lieuTravail" class="sr-only">Choisissez un lieu de travail</label>
                                    <input id="js-lieuTravail" type="text" v-model="recherche.lieuTravail" name="lieuTravail" placeholder="Dans quelle ville ?" class="rechercheOffres-lieuTravail"/>
                                </div>
                                <div class="rechercheOffres-conteneurRayonRecherche">
                                    <label for="js-rayonRecherche" class="sr-only">Renseignez un rayon de recherche</label>
                                    <select id="js-rayonRecherche" name="rayonRecherche"
                                            v-model="recherche.rayonRecherche" class="rechercheOffres-rayonRecherche">
                                        <option v-for="rayonRecherche in rayonsRecherche" v-bind:key="rayonRecherche.value" v-bind:value="rayonRecherche.value">{{rayonRecherche.label}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="formulaireRecherche-conteneur formulaireRecherche-conteneurAffichageFiltres"
                             v-on:click="afficherFiltres">
                            <label for="js-motCle" class="sr-only">Choisissez un métier</label>
                            <input id="js-motCle" type="text" placeholder="Quel métier ?"
                                   v-model="recherche.motCle" name="motCle" class="rechercheOffres-metier" />
                        </div>
                        <div class="formulaireRecherche-conteneur formulaireRecherche-conteneurFiltres">
                            <template v-if="metiersEvalues.length > 0">
                                <p class="formulaireRecherche-titre">Filtrer par MRS :</p>
                                <ul class="filtre">
                                    <li v-for="metierEvalue in metiersEvalues" v-bind:key="metierEvalue.value" class="filtre-item">
                                        <input v-bind:id="'metierEvalue-' + metierEvalue.value" type="checkbox"
                                               name="metiers[]" class="checkbox-input"
                                               v-bind:value="metierEvalue.value" v-model="recherche.metiersEvalues" />
                                        <label class="checkbox" v-bind:for="'metierEvalue-' + metierEvalue.value">
                                            <span class="checkbox-checkmark checkbox-checkmark--blanche"></span>
                                            {{metierEvalue.label}}
                                        </label>
                                    </li>
                                </ul>
                            </template>
                            <p class="formulaireRecherche-titre">Filtrer par contrat :</p>
                            <ul class="filtre filtreContrat">
                                <li v-for="typeContrat in typesContrats" v-bind:key="typeContrat.value" class="filtre-item">
                                    <input v-bind:id="'typeContrat-' + typeContrat.value" type="checkbox"
                                            name="typesContrats[]" class="checkbox-input"
                                            v-bind:value="typeContrat.value" v-model="recherche.typesContrats" />
                                    <label class="checkbox" v-bind:for="'typeContrat-' + typeContrat.value">
                                        <span class="checkbox-checkmark checkbox-checkmark--blanche"></span>
                                        {{typeContrat.label}}
                                    </label>
                                </li>
                            </ul>
                            <p class="formulaireRecherche-titre">Filtrer par secteurs d'activité :</p>
                            <ul class="filtre">
                                <li v-for="secteurActivite in secteursActivites" v-bind:key="secteurActivite.value" class="filtre-item">
                                    <input v-bind:id="'secteurActivite-' + secteurActivite.value" type="checkbox"
                                            name="secteursActivites[]" class="checkbox-input"
                                            v-bind:value="secteurActivite.value" v-model="recherche.secteursActivites" />
                                    <label class="checkbox" v-bind:for="'secteurActivite-' + secteurActivite.value">
                                        <span class="checkbox-checkmark checkbox-checkmark--blanche"></span>
                                        {{secteurActivite.label}}
                                    </label>
                                </li>
                            </ul>
                        </div>
                        <div class="formulaireRecherche-conteneur formulaireRecherche-conteneurRechercher">
                            <button type="submit" class="bouton bouton--blancSurVert boutonRecherche">Rechercher</button>
                        </div>
                    </form>
                </section>
                <section class="rechercheOffres-resultats offres">
                    <template v-if="offres.length === 0">
                        <p class="detailOffre-info--gras">Désolé, nous n'avons pas d'offres à vous proposer pour l'instant :(</p>
                        <p>Vous pouvez modifier vos critères ou réessayer plus tard</p>
                    </template>
                    <template v-show="offres.length > 0" v-for="(offre, index) in offres">
                        <div v-show="doitAfficherOffre(index)"
                             v-on:click="afficherOffre(offre, index)"
                             class="offres-item offre gtm-candidat-detail-offre">
                            <div class="offre-resume gtm-candidat-detail-offre">
                                <p class="offre-info offre-intitule gtm-candidat-detail-offre">{{offre.intitule | capitalize}}</p>
                                <p class="offre-info offre-nomEntreprise gtm-candidat-detail-offre">{{offre.entreprise.nom | capitalize}}</p>
                                <p class="offre-info offre-localisation gtm-candidat-detail-offre">
                                    <img alt="Localisation" src="@assetsFinder.path("images/commun/localisation.svg")" height="16" width="16" />
                                    {{offre.lieuTravail.libelle}}
                                </p>
                            </div>
                            <div class="offre-typeContrat gtm-candidat-detail-offre">
                                <span class="typeContrat gtm-candidat-detail-offre"
                                      v-bind:class="cssTypeContrat(offre)">{{offre.contrat.code | typeContrat}}</span>
                            </div>
                        </div>
                        <div v-if="doitAfficherMiseEnAvantInscription(index)"
                             class="offres-item miseEnAvant">
                            <div class="miseEnAvant-texte">Mettez en avant votre profil !
                                Des recruteurs pourront vous contacter</div>
                            <div class="miseEnAvant-action">
                                <a class="bouton bouton--blancSurVert miseEnAvant-bouton gtm-candidat-offres-incentive-inscription" href="@controllers.candidat.routes.InscriptionController.inscription()">Je m'inscris</a>
                            </div>
                        </div>
                        <div v-if="doitAfficherMiseEnAvantCV(index)"
                             class="offres-item miseEnAvant">
                            <div class="miseEnAvant-texte">Ajoutez votre CV !
                                Des recruteurs pourront le consulter et vous contacter</div>
                            <div class="miseEnAvant-action">
                                <a class="bouton bouton--vertSurBlanc miseEnAvant-bouton gtm-candidat-offres-incentive-cv" href="@controllers.candidat.routes.SaisieCriteresRechercheController.saisieCriteresRecherche()">Je mets à jour mon profil</a>
                            </div>
                        </div>
                    </template>
                    <pagination ref="pagination"
                                v-bind:nb-par-page="nbOffresParPage"
                                v-on:charger-page-suivante="chargerPageSuivante"
                                v-on:charger-page-precedente="chargerPagePrecedente"
                                v-bind:pages-initiales="pagesInitiales"></pagination>
                </section>
            </div>
        </div>
    </div>
    @components.jsData(jsData)
    <script src="@assetsFinder.path("javascripts/candidatRechercheOffres.js")" type="text/javascript"></script>
}